{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kitri\\\\Documents\\\\GitHub\\\\reactpage123\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Comment,Avatar,Button,Input}from'antd';import Axios from'axios';import{useSelector}from'react-redux';import LikeDislikes from'./LikeDislikes';var TextArea=Input.TextArea;function SingleComment(props){var user=useSelector(function(state){return state.user;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),OpenReply=_useState2[0],setOpenReply=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),CommentValue=_useState4[0],setCommentValue=_useState4[1];var onClickReplyOpen=function onClickReplyOpen(){setOpenReply(!OpenReply);};var onHandleChange=function onHandleChange(event){setCommentValue(event.currentTarget.value);};var onSubmit=function onSubmit(event){event.preventDefault();var variables={contents:CommentValue,writer:user.userData._id,postId:props.postId,responseTo:props.comment._id};Axios.post('/api/comment/saveComment',variables).then(function(response){if(response.data.success){props.refreshFunction(response.data.result);setCommentValue(\"\");setOpenReply(false);}else{alert('커멘트 저장 실패');}});};var actions=[/*#__PURE__*/React.createElement(LikeDislikes,{userId:localStorage.getItem('userId'),commentId:props.comment._id}),/*#__PURE__*/React.createElement(\"span\",{onClick:onClickReplyOpen,key:\"comment-basic-reply-to\"},\"Reply to\")];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Comment,{actions:actions,author:props.comment.writer.name,avatar:/*#__PURE__*/React.createElement(Avatar,{src:props.comment.writer.image,alt:true}),content:/*#__PURE__*/React.createElement(\"p\",null,\" \",props.comment.content)}),OpenReply&&/*#__PURE__*/React.createElement(\"form\",{style:{display:'flex'},onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"textarea\",{style:{width:'100%',borderRadius:'5px'},onChange:onHandleChange,value:CommentValue,placeholder:\"\\uCF54\\uBA58\\uD2B8\\uB97C \\uC791\\uC131\\uD574 \\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{style:{width:'20%',height:'52px'},onClick:onSubmit},\" Submit\")));}export default SingleComment;","map":{"version":3,"sources":["C:/Users/kitri/Documents/GitHub/reactpage123/client/src/components/views/VideoDetailPage/Sections/SingleComment.js"],"names":["React","useState","Comment","Avatar","Button","Input","Axios","useSelector","LikeDislikes","TextArea","SingleComment","props","user","state","OpenReply","setOpenReply","CommentValue","setCommentValue","onClickReplyOpen","onHandleChange","event","currentTarget","value","onSubmit","preventDefault","variables","contents","writer","userData","_id","postId","responseTo","comment","post","then","response","data","success","refreshFunction","result","alert","actions","localStorage","getItem","name","image","content","display","width","borderRadius","height"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Comment, Avatar, Button, Input } from 'antd';\r\nimport Axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport LikeDislikes from './LikeDislikes';\r\nconst { TextArea } = Input;\r\n\r\nfunction SingleComment(props) {\r\n\r\n    const user = useSelector(state => state.user);\r\n    const [OpenReply, setOpenReply] = useState(false)\r\n    const [CommentValue, setCommentValue] = useState(\"\")\r\n    const onClickReplyOpen = () => {\r\n        setOpenReply(!OpenReply)\r\n    }\r\n    const onHandleChange = (event) => {\r\n        setCommentValue(event.currentTarget.value)\r\n    }\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        const variables = {\r\n            contents: CommentValue,\r\n            writer: user.userData._id,\r\n            postId: props.postId,\r\n            responseTo: props.comment._id\r\n        }\r\n\r\n        Axios.post('/api/comment/saveComment', variables)\r\n        .then(response => {\r\n            if(response.data.success) {\r\n                props.refreshFunction(response.data.result)\r\n                setCommentValue(\"\")\r\n                setOpenReply(false)\r\n            }else {\r\n                alert('커멘트 저장 실패')\r\n            }\r\n        })\r\n    }\r\n    const actions = [\r\n        <LikeDislikes userId={localStorage.getItem('userId')} commentId={props.comment._id} />\r\n        ,<span onClick={onClickReplyOpen} key=\"comment-basic-reply-to\">Reply to</span>\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Comment\r\n                actions={actions}\r\n                author={props.comment.writer.name}\r\n                avatar={<Avatar src={props.comment.writer.image} alt />}\r\n                content={ <p> {props.comment.content}</p>}\r\n            />\r\n            \r\n            {OpenReply &&\r\n                <form style={{ display: 'flex'}} onSubmit={onSubmit} >\r\n                    <textarea \r\n                        style={{ width: '100%', borderRadius:'5px' }}\r\n                        onChange={onHandleChange}\r\n                        value={CommentValue}\r\n                        placeholder=\"코멘트를 작성해 주세요\"\r\n                    />\r\n                    <br />\r\n                    <button style={{ width: '20%', height: '52px' }} onClick={onSubmit} > Submit</button>\r\n\r\n                    \r\n                </form>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleComment\r\n"]},"metadata":{},"sourceType":"module"}