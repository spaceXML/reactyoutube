{"ast":null,"code":"import React from\"react\";import moment from\"moment\";import{Formik}from'formik';import*as Yup from'yup';import{registerUser}from\"../../../_actions/user_actions\";import{useDispatch}from\"react-redux\";import{Form,Input,Button}from'antd';var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function RegisterPage(props){var dispatch=useDispatch();return/*#__PURE__*/React.createElement(Formik,{initialValues:{email:'',lastName:'',name:'',password:'',confirmPassword:''},validationSchema:Yup.object().shape({name:Yup.string().required('Name is required'),lastName:Yup.string().required('Last Name is required'),email:Yup.string().email('Email is invalid').required('Email is required'),password:Yup.string().min(6,'Password must be at least 6 characters').required('Password is required'),confirmPassword:Yup.string().oneOf([Yup.ref('password'),null],'Passwords must match').required('Confirm Password is required')}),onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;setTimeout(function(){var dataToSubmit={email:values.email,password:values.password,name:values.name,lastname:values.lastname,image:\"http://gravatar.com/avatar/\".concat(moment().unix(),\"?d=identicon\")};dispatch(registerUser(dataToSubmit)).then(function(response){if(response.payload.success){props.history.push(\"/login\");}else{alert(response.payload.err.errmsg);}});setSubmitting(false);},500);}},function(props){var values=props.values,touched=props.touched,errors=props.errors,dirty=props.dirty,isSubmitting=props.isSubmitting,handleChange=props.handleChange,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,handleReset=props.handleReset;return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Sign up\"),/*#__PURE__*/React.createElement(Form,Object.assign({style:{minWidth:'375px'}},formItemLayout,{onSubmit:handleSubmit}),/*#__PURE__*/React.createElement(Form.Item,{required:true,label:\"Name\"},/*#__PURE__*/React.createElement(Input,{id:\"name\",placeholder:\"Enter your name\",type:\"text\",value:values.name,onChange:handleChange,onBlur:handleBlur,className:errors.name&&touched.name?'text-input error':'text-input'}),errors.name&&touched.name&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-feedback\"},errors.name)),/*#__PURE__*/React.createElement(Form.Item,{required:true,label:\"Last Name\"},/*#__PURE__*/React.createElement(Input,{id:\"lastName\",placeholder:\"Enter your Last Name\",type:\"text\",value:values.lastName,onChange:handleChange,onBlur:handleBlur,className:errors.lastName&&touched.lastName?'text-input error':'text-input'}),errors.lastName&&touched.lastName&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-feedback\"},errors.lastName)),/*#__PURE__*/React.createElement(Form.Item,{required:true,label:\"Email\",hasFeedback:true,validateStatus:errors.email&&touched.email?\"error\":'success'},/*#__PURE__*/React.createElement(Input,{id:\"email\",placeholder:\"Enter your Email\",type:\"email\",value:values.email,onChange:handleChange,onBlur:handleBlur,className:errors.email&&touched.email?'text-input error':'text-input'}),errors.email&&touched.email&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-feedback\"},errors.email)),/*#__PURE__*/React.createElement(Form.Item,{required:true,label:\"Password\",hasFeedback:true,validateStatus:errors.password&&touched.password?\"error\":'success'},/*#__PURE__*/React.createElement(Input,{id:\"password\",placeholder:\"Enter your password\",type:\"password\",value:values.password,onChange:handleChange,onBlur:handleBlur,className:errors.password&&touched.password?'text-input error':'text-input'}),errors.password&&touched.password&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-feedback\"},errors.password)),/*#__PURE__*/React.createElement(Form.Item,{required:true,label:\"Confirm\",hasFeedback:true},/*#__PURE__*/React.createElement(Input,{id:\"confirmPassword\",placeholder:\"Enter your confirmPassword\",type:\"password\",value:values.confirmPassword,onChange:handleChange,onBlur:handleBlur,className:errors.confirmPassword&&touched.confirmPassword?'text-input error':'text-input'}),errors.confirmPassword&&touched.confirmPassword&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-feedback\"},errors.confirmPassword)),/*#__PURE__*/React.createElement(Form.Item,tailFormItemLayout,/*#__PURE__*/React.createElement(Button,{onClick:handleSubmit,type:\"primary\",disabled:isSubmitting},\"Submit\"))));});};export default RegisterPage;","map":{"version":3,"sources":["C:/Users/kitri/Documents/GitHub/reactpage123/client/src/components/views/RegisterPage/RegisterPage.js"],"names":["React","moment","Formik","Yup","registerUser","useDispatch","Form","Input","Button","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterPage","props","dispatch","email","lastName","name","password","confirmPassword","object","shape","string","required","min","oneOf","ref","values","setSubmitting","setTimeout","dataToSubmit","lastname","image","unix","then","response","payload","success","history","push","alert","err","errmsg","touched","errors","dirty","isSubmitting","handleChange","handleBlur","handleSubmit","handleReset","minWidth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { registerUser } from \"../../../_actions/user_actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n} from 'antd';\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 8 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 16 },\r\n  },\r\n};\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 8,\r\n    },\r\n  },\r\n};\r\n\r\nfunction RegisterPage(props) {\r\n  const dispatch = useDispatch();\r\n  return (\r\n\r\n    <Formik\r\n      initialValues={{\r\n        email: '',\r\n        lastName: '',\r\n        name: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n      }}\r\n      validationSchema={Yup.object().shape({\r\n        name: Yup.string()\r\n          .required('Name is required'),\r\n        lastName: Yup.string()\r\n          .required('Last Name is required'),\r\n        email: Yup.string()\r\n          .email('Email is invalid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .min(6, 'Password must be at least 6 characters')\r\n          .required('Password is required'),\r\n        confirmPassword: Yup.string()\r\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\r\n          .required('Confirm Password is required')\r\n      })}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        setTimeout(() => {\r\n\r\n          let dataToSubmit = {\r\n            email: values.email,\r\n            password: values.password,\r\n            name: values.name,\r\n            lastname: values.lastname,\r\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`\r\n          };\r\n\r\n          dispatch(registerUser(dataToSubmit)).then(response => {\r\n            if (response.payload.success) {\r\n              props.history.push(\"/login\");\r\n            } else {\r\n              alert(response.payload.err.errmsg)\r\n            }\r\n          })\r\n\r\n          setSubmitting(false);\r\n        }, 500);\r\n      }}\r\n    >\r\n      {props => {\r\n        const {\r\n          values,\r\n          touched,\r\n          errors,\r\n          dirty,\r\n          isSubmitting,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          handleReset,\r\n        } = props;\r\n        return (\r\n          <div className=\"app\">\r\n            <h2>Sign up</h2>\r\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\r\n\r\n              <Form.Item required label=\"Name\">\r\n                <Input\r\n                  id=\"name\"\r\n                  placeholder=\"Enter your name\"\r\n                  type=\"text\"\r\n                  value={values.name}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.name && touched.name && (\r\n                  <div className=\"input-feedback\">{errors.name}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Last Name\">\r\n                <Input\r\n                  id=\"lastName\"\r\n                  placeholder=\"Enter your Last Name\"\r\n                  type=\"text\"\r\n                  value={values.lastName}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.lastName && touched.lastName && (\r\n                  <div className=\"input-feedback\">{errors.lastName}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Email\" hasFeedback validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\r\n                <Input\r\n                  id=\"email\"\r\n                  placeholder=\"Enter your Email\"\r\n                  type=\"email\"\r\n                  value={values.email}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.email && touched.email && (\r\n                  <div className=\"input-feedback\">{errors.email}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Password\" hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\r\n                <Input\r\n                  id=\"password\"\r\n                  placeholder=\"Enter your password\"\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.password && touched.password && (\r\n                  <div className=\"input-feedback\">{errors.password}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Confirm\" hasFeedback>\r\n                <Input\r\n                  id=\"confirmPassword\"\r\n                  placeholder=\"Enter your confirmPassword\"\r\n                  type=\"password\"\r\n                  value={values.confirmPassword}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.confirmPassword && touched.confirmPassword && (\r\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item {...tailFormItemLayout}>\r\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\r\n                  Submit\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        );\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\n\r\nexport default RegisterPage\r\n"]},"metadata":{},"sourceType":"module"}