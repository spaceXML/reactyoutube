{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kitri\\\\Documents\\\\GitHub\\\\reactpage123\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Tooltip,Icon}from'antd';import Axios from'axios';function LikeDislikes(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),Likes=_useState2[0],setLikes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),Dislikes=_useState4[0],setDislikes=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),LikeAction=_useState6[0],setLikeAction=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),DisLikeAction=_useState8[0],setDisLikeAction=_useState8[1];var variable={};if(props.video){variable={videoId:props.videoId,userId:props.userId};}else{variable={commentId:props.commentId,userId:props.userId};}useEffect(function(){Axios.post('/api/like/getLikes',variable).then(function(response){if(response.data.success){//좋아요 수\nsetLikes(response.data.likes.length);// 좋아요 여부 (이미 눌렀는지 아닌지)\nresponse.data.likes.map(function(like){if(like.userId===props.userId){setLikeAction('liked');}});}else{alert('Likes 정보를 가져오지 못했습니다.');}});Axios.post('/api/like/getDislikes',variable).then(function(response){if(response.data.success){//싫어요 수\nsetDislikes(response.data.dislikes.length);// 싫어요 여부 (이미 눌렀는지 아닌지)\nresponse.data.dislikes.map(function(dislike){if(dislike.userId===props.userId){setDisLikeAction('disliked');}});}else{alert('Dislikes 정보를 가져오지 못했습니다.');}});},[]);var onLike=function onLike(){if(LikeAction===null){Axios.post('/api/like/upLike',variable).then(function(response){if(response.data.success){setLikes(Likes+1);setLikeAction('liked');if(DisLikeAction!==null){setDisLikeAction(null);setDislikes(Dislikes-1);}}else{alert('Like 실패');}});}else{Axios.post('/api/like/unLike',variable).then(function(response){if(response.data.success){setLikes(Likes-1);setLikeAction(null);}else{alert('Like 취소 실패');}});}};var onDislike=function onDislike(){if(DisLikeAction!==null){Axios.post('/api/like/unDislike',variable).then(function(response){if(response.data.success){setDislikes(Dislikes-1);setDisLikeAction(null);}else{alert('dislike  취소 실패');}});}else{Axios.post('/api/like/upDislike',variable).then(function(response){if(response.data.success){setDislikes(Dislikes+1);setDisLikeAction('disliked');if(LikeAction!==null){setLikeAction(null);setLikes(Likes-1);}}else{alert('Like 취소 실패');}});}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{key:\"comment-basic-like\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Like\"},/*#__PURE__*/React.createElement(Icon,{type:\"like\",theme:LikeAction==='liked'?'filled':'outlined',onClick:onLike})),/*#__PURE__*/React.createElement(\"span\",{style:{paddingLeft:'8px',cursor:'auto'}},\" \",Likes,\" \")),\"\\xA0\\xA0\",/*#__PURE__*/React.createElement(\"span\",{key:\"comment-basic-dislike\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Dislike\"},/*#__PURE__*/React.createElement(Icon,{type:\"dislike\",theme:DisLikeAction==='disliked'?'filled':'outlined',onClick:onDislike})),/*#__PURE__*/React.createElement(\"span\",{style:{paddingLeft:'8px',cursor:'auto'}},\" \",Dislikes,\" \")),\"\\xA0\\xA0\");}export default LikeDislikes;","map":{"version":3,"sources":["C:/Users/kitri/Documents/GitHub/reactpage123/client/src/components/views/VideoDetailPage/Sections/LikeDislikes.js"],"names":["React","useEffect","useState","Tooltip","Icon","Axios","LikeDislikes","props","Likes","setLikes","Dislikes","setDislikes","LikeAction","setLikeAction","DisLikeAction","setDisLikeAction","variable","video","videoId","userId","commentId","post","then","response","data","success","likes","length","map","like","alert","dislikes","dislike","onLike","onDislike","paddingLeft","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Tooltip, Icon } from 'antd';\r\nimport Axios from 'axios';\r\n\r\nfunction LikeDislikes(props) {\r\n\r\n    const [Likes, setLikes] = useState(0)\r\n    const [Dislikes, setDislikes] = useState(0)\r\n    const [LikeAction, setLikeAction] = useState(null)\r\n    const [DisLikeAction, setDisLikeAction] = useState(null)\r\n    let variable = {\r\n\r\n    }\r\n\r\n    if(props.video) {\r\n        variable = { videoId: props.videoId, userId: props.userId}\r\n    }else {\r\n        variable = { commentId: props.commentId, userId: props.userId}\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.post('/api/like/getLikes', variable)\r\n        .then(response=> {\r\n            if(response.data.success) {\r\n                //좋아요 수\r\n                setLikes(response.data.likes.length)\r\n\r\n                // 좋아요 여부 (이미 눌렀는지 아닌지)\r\n                response.data.likes.map(like => {\r\n                    if(like.userId === props.userId) {\r\n                        setLikeAction('liked')\r\n                    }\r\n                })\r\n\r\n            }else {\r\n                alert('Likes 정보를 가져오지 못했습니다.')\r\n            }\r\n        })\r\n\r\n\r\n        Axios.post('/api/like/getDislikes', variable)\r\n        .then(response=> {\r\n            if(response.data.success) {\r\n                //싫어요 수\r\n                setDislikes(response.data.dislikes.length)\r\n\r\n                // 싫어요 여부 (이미 눌렀는지 아닌지)\r\n                response.data.dislikes.map(dislike => {\r\n                    if(dislike.userId === props.userId) {\r\n                        setDisLikeAction('disliked')\r\n                    }\r\n                })\r\n\r\n            }else {\r\n                alert('Dislikes 정보를 가져오지 못했습니다.')\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const onLike = () => {\r\n\r\n        if(LikeAction === null) {\r\n            Axios.post('/api/like/upLike', variable)\r\n            .then(response => {\r\n                if(response.data.success) {\r\n                    setLikes(Likes + 1)\r\n                    setLikeAction('liked')\r\n\r\n                    if(DisLikeAction !== null) {\r\n                        setDisLikeAction(null)\r\n                        setDislikes(Dislikes -1)\r\n                    }\r\n\r\n                }else {\r\n                    alert('Like 실패')\r\n                }\r\n            })\r\n        }else {\r\n            Axios.post('/api/like/unLike', variable)\r\n            .then(response => {\r\n                if(response.data.success) {\r\n                    setLikes(Likes - 1)\r\n                    setLikeAction(null)\r\n\r\n                }else {\r\n                    alert('Like 취소 실패')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const onDislike = () => {\r\n        \r\n        if(DisLikeAction !== null) {\r\n            Axios.post('/api/like/unDislike', variable)\r\n            .then(response => {\r\n                if(response.data.success) {\r\n                    setDislikes(Dislikes - 1)\r\n                    setDisLikeAction(null)\r\n\r\n                }else {\r\n                    alert('dislike  취소 실패')\r\n                }\r\n            })\r\n        }else {\r\n            Axios.post('/api/like/upDislike', variable)\r\n            .then(response => {\r\n                if(response.data.success) {\r\n                    setDislikes(Dislikes + 1)\r\n                    setDisLikeAction('disliked')\r\n\r\n                    if(LikeAction !== null) {\r\n                        setLikeAction(null)\r\n                        setLikes(Likes - 1)\r\n                    }\r\n\r\n                }else {\r\n                    alert('Like 취소 실패')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <span key=\"comment-basic-like\">\r\n                <Tooltip title=\"Like\">\r\n                    <Icon type=\"like\"\r\n                        theme={LikeAction === 'liked'? 'filled' : 'outlined'}\r\n                        onClick={onLike}\r\n                    />\r\n                </Tooltip>\r\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}> {Likes} </span>\r\n            </span>&nbsp;&nbsp;\r\n\r\n            <span key=\"comment-basic-dislike\">\r\n                <Tooltip title=\"Dislike\">\r\n                    <Icon type=\"dislike\"\r\n                        theme={DisLikeAction === 'disliked'? 'filled' : 'outlined'}\r\n                        onClick={onDislike}\r\n                    />\r\n                </Tooltip>\r\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}> {Dislikes} </span>\r\n            </span>&nbsp;&nbsp;\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LikeDislikes\r\n"]},"metadata":{},"sourceType":"module"}